/* структура/компоненты. Цвета задаются токенами из themes/*.css */

/* базовые */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  transition:background .25s,color .25s;
}
.wrap{max-width:1100px;margin:auto;padding:16px}
h1{font-size:28px;margin:0 0 10px}
.hint{color:var(--muted);font-size:13px;margin:0 0 12px}

/* панель */
.toolbar{
  display:flex;flex-wrap:wrap;gap:10px;align-items:center;
  margin:6px 0 12px;padding:10px;background:var(--card);
  border:1px solid var(--stroke);border-radius:12px;
}
.group{display:flex;gap:8px;align-items:center}
label.small{font-size:13px;color:var(--muted)}
select,.seg{
  background:var(--chip);color:var(--text);border:1px solid var(--stroke);
  border-radius:10px;padding:8px 10px;font:inherit
}
.seg{display:inline-flex;gap:2px}
.seg button{
  padding:8px 10px;border:none;background:transparent;color:var(--text);
  border-radius:8px;cursor:pointer
}
.seg button.active{background:var(--primary);color:var(--primary-contrast)}
.theme-btn{
  margin-left:auto;padding:8px 12px;border:1px solid var(--stroke);
  background:var(--chip);color:var(--text);border-radius:10px;cursor:pointer
}

/* карточки */
.card{
  background:var(--card);border:1px solid var(--stroke);
  border-radius:14px;padding:12px;margin:12px 0;position:relative;
  box-shadow:0 1px 0 rgba(0,0,0,.05),0 6px 16px rgba(0,0,0,.08);
}
.card.expired{opacity:.85}
.card__top{display:flex;gap:10px;align-items:center}
.src{font-weight:700}
.badge{
  display:inline-block;padding:4px 8px;border-radius:10px;
  background:var(--chip);border:1px solid var(--stroke);font-size:12px;color:var(--muted)
}
.meta{display:flex;gap:8px;align-items:center;margin-left:auto;flex-wrap:wrap}
.status{font-size:12px;padding:3px 8px;border-radius:999px}
.status.active{background:color-mix(in srgb,var(--ok) 18%, transparent);color:var(--ok)}
.status.event{background:color-mix(in srgb,var(--warn) 18%, transparent);color:var(--warn)}
.status.exp{background:color-mix(in srgb,var(--bad) 18%, transparent);color:var(--bad)}
.updated{font-size:12px;color:var(--muted)}

.codes{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 6px}
.codepill{
  display:flex;align-items:center;gap:6px;font-weight:700;letter-spacing:.5px;
  border:1px dashed var(--primary);
  background:color-mix(in srgb,var(--primary) 12%, transparent);
  padding:6px 8px;border-radius:10px;
}
.copy-btn{border:1px solid var(--stroke);background:var(--chip);color:var(--text);
  border-radius:8px;padding:6px 8px;font-size:13px;cursor:pointer}
.btn{border:1px solid var(--stroke);background:var(--chip);color:var(--text);
  border-radius:10px;padding:8px 10px;font-weight:700;cursor:pointer}
.btn.primary{border-color:transparent;background:var(--primary);color:var(--primary-contrast)}
.btn.outline{background:transparent}

.grid{display:grid;gap:8px;margin:10px 0;grid-template-columns:repeat(2,minmax(0,1fr))}
@media (min-width:900px){ .grid{grid-template-columns:repeat(4,minmax(0,1fr))} }
.kv{background:var(--chip);border:1px solid var(--stroke);border-radius:10px;padding:8px}
.kv b{display:block;font-size:12px;color:var(--muted);margin-bottom:3px}

/* чипы */
.chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.chip{font-size:12px;padding:4px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--stroke)}

/* номинации */
.nom{display:inline-block;margin-left:6px;padding:2px 6px;font-size:11px;font-weight:700;border-radius:999px;border:1px solid transparent;white-space:nowrap}
.nom--best{background:#1bffb3;color:#0a1a14}
.nom--max{background:#6aa3ff;color:#0d1320}
.nom--common{background:#ffd96a;color:#2b2205}
.nom--std{background:#c6c9d3;color:#0f1320}
.nom--min{background:#ff8aa0;color:#2b0b12}
.nom--easy{background:#b0ff8a;color:#0f2010}
.nom--warn{background:#ffb36a;color:#2b1405}
.nom--event{background:#f9c97a;color:#2a1d05}
.nomline{margin-top:4px;font-size:11px;color:var(--muted)}

/* плитка Отзывы (вместо "Ставка") */
.kv.kv-reviews{cursor:pointer}
.rv-mini{display:grid;grid-template-columns:auto 1fr auto;gap:8px;align-items:center}
.rv-stars{display:inline-flex;gap:2px;font-size:16px;line-height:1}
.rv-stars .on{color:#ffc400}.rv-stars .off{color:#d1d5db}
.rv-score{font-weight:700}
.rv-hint{color:var(--muted);font-size:11px;grid-column:1/-1}
.rv-detail{display:none;margin-top:8px;border-top:1px solid var(--stroke);padding-top:8px}
.rv-row{display:grid;grid-template-columns:52px 1fr 36px;gap:6px;align-items:center}
.rv-row .label{color:var(--muted);font-size:12px}
.rv-bar{height:6px;background:var(--chip);border:1px solid var(--stroke);border-radius:20px;overflow:hidden}
.rv-bar>i{display:block;height:100%;background:#ffc400}
.rv-count{font-size:12px;color:var(--muted);text-align:right}
.rv-pop{display:flex;gap:8px;align-items:center;margin-top:6px}
.rv-pop .meter{flex:1;height:8px;background:var(--chip);border:1px solid var(--stroke);border-radius:20px;overflow:hidden}
.rv-pop .meter>i{display:block;height:100%;background:#1bffb3}
.rv-pop .val{font-size:12px;color:var(--muted);min-width:78px;text-align:right}
.kv-reviews.expanded .rv-detail{display:block}
@media (min-width:900px){ .kv-reviews.expanded{grid-column:1/-1} }
@media (max-width:899px){ .kv-reviews.expanded{grid-column:1/-1} }

/* таблица */
.table-wrap{display:none;margin-top:12px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border:1px solid var(--stroke);padding:8px;vertical-align:top}
.table th{background:var(--chip);color:var(--muted);text-align:left;font-weight:600}
.table tr:nth-child(even){background:color-mix(in srgb,var(--chip) 50%,transparent)}
.rating-badge{font-weight:700}

/* разделители */
.section-title{margin:18px 0 8px;font-size:18px;color:var(--text)}
.section-hint{color:var(--muted);font-size:13px;margin-bottom:6px}
