/* === WINLINE — фирменный светлый как базовый, сочные акценты === */

/* Палитра */
:root{
  /* База — светлая */
  --bg:#ffffff;
  --card:#ffffff;
  --codes:#fff7ef;      /* мягкая подложка для блока codes */
  --kv:#f7f8fb;
  --text:#16181d;
  --muted:#6b7280;
  --stroke:#e5e7eb;

  /* Акценты Winline */
  --primary:#ff7a00;    /* Winline Orange */
  --primary-700:#e06600;
  --primary-600:#ff8a1f;
  --primary-300:#ffc48f;

  --ok:#18a34a;
  --warn:#d97706;

  /* Тени/кольца фокуса */
  --shadow-sm:0 1px 2px rgba(16,24,40,.06);
  --shadow-md:0 6px 18px rgba(16,24,40,.08);
  --ring:0 0 0 3px rgba(255,122,0,.20);
}

/* Тёмная — по желанию через data-theme="dark" */
:root[data-theme="dark"]{
  --bg:#121212; --card:#1a1a1d; --codes:#222226; --kv:#2a2a2e;
  --text:#f4f5f7; --muted:#9aa0ab; --stroke:#37373b;
  --primary:#ff7a00; --primary-700:#e06600; --primary-600:#ff8a1f; --primary-300:#ffb780;
  --ok:#22c55e; --warn:#f59e0b;
  --shadow-sm:0 1px 2px rgba(0,0,0,.35);
  --shadow-md:0 10px 24px rgba(0,0,0,.35);
  --ring:0 0 0 3px rgba(255,122,0,.25);
}

/* База типографики и фон */
html,body{
  background:var(--bg); color:var(--text);
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Карточка */
.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:14px;
  padding:16px; margin-bottom:18px;
  box-shadow:var(--shadow-sm);
  transition:.2s ease;
}
.card:hover{ box-shadow:var(--shadow-md); transform:translateY(-1px); }

/* Шапка */
.card__top{ display:flex; align-items:center; gap:10px; }
.card__top .src{ font-weight:800; font-size:15px; letter-spacing:.2px; }
.badge{
  background:linear-gradient(180deg,var(--primary-600),var(--primary));
  color:#111; font-weight:900; letter-spacing:.2px;
  font-size:12px; padding:3px 10px; border-radius:999px;
}
.meta{ margin-left:auto; display:flex; gap:10px; align-items:center; color:var(--muted); font-size:12px; }
.status{
  padding:2px 10px; border-radius:999px; font-weight:700; letter-spacing:.2px;
  border:1px solid var(--stroke);
}
.status.active{ background:#eefcf3; color:#137a3a; border-color:#c8f1d8; }
.status.exp{ background:#fff1f1; color:#b91c1c; border-color:#f7caca; }

/* Коды */
.codes{
  margin-top:10px; background:var(--codes); border:1px solid var(--stroke);
  border-radius:12px; padding:12px; display:flex; flex-wrap:wrap; gap:10px;
}
.codepill{
  background:linear-gradient(180deg,#fff,#fff6ee);
  color:#92400e; border:1px solid var(--primary-300);
  font-weight:900; font-size:14px; letter-spacing:.2px;
  border-radius:10px; padding:8px 12px; display:flex; align-items:center; gap:8px;
  box-shadow:var(--shadow-sm);
}
.copy-btn{
  font-size:12px; border:1px solid transparent;
  background:linear-gradient(180deg,var(--primary-600),var(--primary));
  color:#111; font-weight:900; padding:6px 10px; border-radius:8px;
  cursor:pointer; transition:.15s ease;
}
.copy-btn:hover{ filter:brightness(1.05); transform:translateY(-0.5px); box-shadow:var(--shadow-sm); }
.copy-btn:active{ transform:translateY(0); }
.copy-btn:focus-visible{ outline:none; box-shadow:var(--ring); }

/* GRID */
.grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:12px; }
.kv{
  background:var(--kv); border:1px solid var(--stroke);
  border-radius:12px; padding:12px; font-size:14px; min-height:84px;
}
.kv b{ display:block; font-size:12px; font-weight:800; color:var(--muted); margin-bottom:6px; text-transform:uppercase; letter-spacing:.3px; }

/* Сумма — главный акцент */
.kv-money .v-money{
  font-size:22px; font-weight:950; line-height:1.12;
  background:linear-gradient(90deg,var(--primary),#ffb300);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Бейджи — строго ниже значения */
.kv-badges{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px; }
.nom{
  font-size:12px; line-height:1.2; padding:3px 10px; border-radius:999px; font-weight:800;
  color:#111; background:#ffedd5; border:1px solid #ffc896; white-space:nowrap;
}
.nom--max{ background:#d1fae5; border-color:#86efac; color:#065f46; }
.nom--min{ background:#fee2e2; border-color:#fca5a5; color:#991b1b; }
.nom--common{ background:#eef2f7; border-color:#d7dde7; color:#334155; }
.nom--best{ background:#ede9fe; border-color:#c4b5fd; color:#4c1d95; }
.nom--short{ background:#fef3c7; border-color:#fde68a; color:#7c2d12; }
.nom--long{ background:#e0f2fe; border-color:#7dd3fc; color:#0c4a6e; }

/* Чипсы */
.chips{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }
.chip{
  background:#f3f4f6; border:1px solid var(--stroke); color:var(--text);
  padding:6px 10px; border-radius:999px; font-size:13px; font-weight:700;
}
:root[data-theme="dark"] .chip{ background:#33343a; }

/* Отзывы (компактно, с оранжевыми звёздами) */
.kv-reviews .rv-mini{ display:flex; gap:8px; align-items:center; }
.rv-stars span{ font-size:14px; }
.rv-stars .on{ color:#ffb300; } .rv-stars .off{ color:#ced3dc; }
.rv-hint{ color:var(--muted); font-size:12px; }
.rv-score{ font-weight:900; }
.kv-reviews .rv-detail{ margin-top:8px; display:none; }
.kv-reviews.expanded .rv-detail{ display:block; }
.rv-row{ display:grid; grid-template-columns:68px 1fr 42px; gap:8px; align-items:center; margin:3px 0; }
.rv-bar{ height:8px; background:#e5e7eb; border-radius:999px; overflow:hidden; }
.rv-bar i{ display:block; height:100%; background:linear-gradient(90deg,var(--primary),#ffcc66); }
.rv-pop{ display:flex; gap:10px; align-items:center; margin-top:8px; }
.meter{ width:180px; height:10px; background:#e5e7eb; border-radius:999px; overflow:hidden; }
.meter i{ display:block; height:100%; background:linear-gradient(90deg,#16a34a,var(--primary)); }

/* Выводы (summary) — отделяем и делаем фирменную «полосу» слева */
.summary{
  margin-top:12px; background:#fffaf5; border:1px solid var(--stroke);
  border-radius:12px; padding:12px; font-size:14px; line-height:1.48; position:relative;
}
.summary:before{
  content:""; position:absolute; inset:0 auto 0 0; width:4px; border-radius:12px 0 0 12px;
  background:linear-gradient(180deg,var(--primary),#ffb300);
}

/* Ссылки */
.links{ margin-top:12px; display:flex; gap:14px; flex-wrap:wrap; }
.link{
  color:var(--primary-700); text-decoration:underline; text-underline-offset:2px;
  font-weight:800;
}
.link:hover{ color:var(--primary); }

/* Табличные акценты */
.rating-badge{ font-weight:900; color:var(--primary-700); }

/* Адаптив */
@media (max-width:980px){ .grid{ grid-template-columns:repeat(2,1fr);} }
@media (max-width:560px){ .grid{ grid-template-columns:1fr;} }
